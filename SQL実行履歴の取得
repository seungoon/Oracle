SELECT 
  SQL_ID AS SQLID,,
  FIRST_LOAD_TIME AS SQL開始時間,
  SQL_FULLTEXT AS SQL文,,
  ROWS_PROCESSED||'件' AS 取得したデータ件数,
  CPU_TIME / 1000000 ||'秒' AS 処理に使用したCPU時間,
  ELAPSED_TIME / 1000000 ||'秒' AS 処理に使用した経過時間
  ,INSTR(SQL_FULLTEXT, 'V$SQL')
FROM V$SQL
WHERE 
FIRST_LOAD_TIME BETWEEN '2017-08-21/04:00:00' AND '2017-08-21/12:00:00' --AM4時からAM12時までのデータを抽出
AND INSTR(SQL_FULLTEXT, 'XXX') > 0  --SQL文から検索キーワードを指定
AND INSTR(SQL_FULLTEXT, 'V$SQL') = 0  --調査用のこのSQLを対象外にする
ORDER BY FIRST_LOAD_TIME;
